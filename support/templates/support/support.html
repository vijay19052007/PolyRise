{% extends "base_dashboard.html" %}
{% block title %}Support & connect - PolyRise{% endblock %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<style>
:root {
    --primary-color: #1d51ff;
    --primary-light: rgba(90, 30, 6, 0.1);
    --primary-dark: #ace6ff;
    --success-color: #28a745;
    --transition: all 0.3s ease;
}

body {
    padding: 10px;
    transition: background-color 0.3s, color 0.3s;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

.header {
    text-align: center;
    margin-bottom: 2.5rem;
    padding: 1.5rem 0;
}

.header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--primary-color);
}

.header p {
    font-size: 1.2rem;
    color: #6c757d;
}

.section-card {
    border-radius: 12px;
    padding: 2.5rem;
    margin-bottom: 2.5rem;
    transition: var(--transition);
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    position: relative;
    overflow: hidden;
}

.section-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 5px;
    height: 100%;
    background: var(--primary-color);
}

.theme-light body {
    background-color: #f8f9fa;
    color: #212529;
}

.theme-light .section-card {
    background-color: #ffffff;
    color: #212529;
    border: 1px solid #e9ecef;
}

.theme-light .accordion-button {
    background-color: #f8f9fa;
    color: #212529;
    border: 1px solid #dee2e6;
}

.theme-light .accordion-button:not(.collapsed) {
    background-color: #e9ecef;
    color: var(--primary-color);
    box-shadow: inset 0 -1px 0 rgba(0,0,0,0.125);
}

.theme-dark body {
    background-color: #121212;
    color: #f1f1f1;
}

.theme-dark .section-card {
    background-color: #1e1e2f;
    color: #f1f1f1;
    border: 1px solid #343434;
}

.theme-dark .accordion-button {
    background-color: #2c2c3a;
    color: #f1f1f1;
    border: 1px solid #444;
}

.theme-dark .accordion-button:not(.collapsed) {
    background-color: #3a3a4d;
    color: #f1f1f1;
}

.section-title {
    text-align: center;
    margin-bottom: 2rem;
    font-weight: 600;
    position: relative;
    padding-bottom: 0.5rem;
}

.section-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 3px;
    background: var(--primary-color);
    border-radius: 2px;
}

.social-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    transition: var(--transition);
    color: #6c757d;
    border: 1px solid #dee2e6;
}

.social-icon i {
    font-size: 1.5rem;
}

.social-icon:hover {
    transform: translateY(-3px);
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    box-shadow: 0 5px 15px rgba(90, 30, 6, 0.2);
}

input.form-control, textarea.form-control, select.form-select {
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    transition: var(--transition);
    padding: 0.75rem 1rem;
    border: 1px solid #ced4da;
}

input.form-control:focus, textarea.form-control:focus, select.form-select:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.25rem rgba(90,30,6,0.15);
}

.btn-primary {
    border-radius: 8px;
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    padding: 0.75rem 2rem;
    font-weight: 500;
    transition: var(--transition);
}

.btn-primary:hover, .btn-primary:focus {
    background-color: var(--primary-dark);
    border-color: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(90, 30, 6, 0.2);
}

.accordion-button {
    font-weight: 500;
    padding: 1.25rem;
    transition: var(--transition);
}

.accordion-button:focus {
    box-shadow: none;
    border-color: var(--primary-light);
}

.accordion-button:not(.collapsed) {
    font-weight: 600;
}

.accordion-body {
    padding: 1.25rem;
    line-height: 1.6;
}

.alert {
    border-radius: 8px;
    padding: 0.75rem 1.25rem;
}

.contact-info {
    list-style: none;
    padding-left: 0;
}

.contact-info li {
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
}

.contact-info li strong {
    min-width: 70px;
    margin-right: 10px;
}

.contact-info a {
    color: var(--primary-color);
    text-decoration: none;
    transition: var(--transition);
}

.contact-info a:hover {
    text-decoration: underline;
}

.form-label {
    font-weight: 500;
    margin-bottom: 0.5rem;
    color: #495057;
}

.theme-dark .form-label {
    color: #e9ecef;
}

.loading {
    display: none;
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 50%;
    border-top-color: #fff;
    animation: spin 1s ease-in-out infinite;
    margin-left: 10px;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

@media (max-width: 768px) {
    .header h1 {
        font-size: 2rem;
    }
    
    .section-card {
        padding: 1.5rem;
    }
    
    .w-75 {
        width: 100% !important;
    }
}

.text-center-md {
    text-align: center;
}

@media(min-width:768px) {
    .text-center-md {
        text-align: left;
    }
}

.feature-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
    color: var(--primary-color);
}

.about-content {
    line-height: 1.7;
}
</style>

<div class="container">
    <div class="header">
        <h1>Support & Connect üìû</h1>
        <p class="mt-1">Get help and connect with the PolyRise community</p>
    </div>
    
    <section>
        <div class="section-card">
            <h3 class="section-title">Anonymous Doubt Box</h3>
            <form method="POST" action="{% url 'submit_doubt' %}" class="mx-auto w-75" novalidate id="doubtForm">
                {% csrf_token %}
                

                <div class="mb-4">
                    <label for="category" class="form-label">Category</label>
                    <select name="category" id="category" class="form-select {% if form.errors.category %}is-invalid{% endif %}" required>
                        <option value="">-- Select Category --</option>
                        <option value="technical" {% if form.data.category == 'technical' %}selected{% endif %}>üíª Technical Question</option>
                        <option value="academic" {% if form.data.category == 'academic' %}selected{% endif %}>üìò Academic Doubt</option>
                        <option value="career" {% if form.data.category == 'career' %}selected{% endif %}>üéØ Career Guidance</option>
                        <option value="general" {% if form.data.category == 'general' %}selected{% endif %}>‚ÑπÔ∏è General Query</option>
                    </select>
                    {% if form.errors.category %}
                        <div class="invalid-feedback d-block">{{ form.errors.category.0 }}</div>
                    {% endif %}
                </div>

                <div class="mb-4">
                    <label for="email" class="form-label">Email</label>
                    <input name="email" id="email" type="email" 
                        class="form-control {% if form.errors.email %}is-invalid{% endif %}" 
                        placeholder="your@email.com" 
                        value="{{ form.data.email|default:'' }}" 
                        required>
                    {% if form.errors.email %}
                        <div class="invalid-feedback d-block">{{ form.errors.email.0 }}</div>
                    {% endif %}
                </div>

                <div class="mb-4">
                    <label for="message" class="form-label">Your Doubt</label>
                    <textarea name="message" id="message" rows="5" 
                            class="form-control {% if form.errors.message %}is-invalid{% endif %}" 
                            placeholder="Describe your doubt in detail..." 
                            required>{{ form.data.message|default:'' }}</textarea>
                    {% if form.errors.message %}
                        <div class="invalid-feedback d-block">{{ form.errors.message.0 }}</div>
                    {% endif %}
                    <div class="form-text">Please provide as much detail as possible for us to help you better.</div>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-primary px-5" id="submitBtn">
                        <span class="btn-text">Submit</span>
                        <div class="loading"></div>
                    </button>
                </div>
            </form>
        </div>
    </section>

    <section>
        <div class="section-card">
            <h3 class="section-title">Frequently Asked Questions</h3>
            <div class="accordion accordion-flush" id="faqAccordion">

                <div class="accordion-item">
                    <h2 class="accordion-header" id="faq1-heading">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#faq1" aria-expanded="false" aria-controls="faq1">
                            <i class="bi bi-question-circle me-2"></i>What is PolyRise and who is it for?
                        </button>
                    </h2>
                    <div id="faq1" class="accordion-collapse collapse" aria-labelledby="faq1-heading" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            PolyRise is an educational platform designed for students, educators, and lifelong learners. It provides:
                            <ul>
                                <li>Study materials like notes, syllabus, and question papers.</li>
                                <li>Tutorials, guidance, and support for academic success.</li>
                                <li>A community where learners can connect, discuss, and share knowledge.</li>
                            </ul>
                            PolyRise is perfect for polytechnic students, college students, and anyone looking to enhance their learning in a structured and easy-to-access way.
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="faq2-heading">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#faq2" aria-expanded="false" aria-controls="faq2">
                            <i class="bi bi-currency-exchange me-2"></i>Is PolyRise completely free to use?
                        </button>
                    </h2>
                    <div id="faq2" class="accordion-collapse collapse" aria-labelledby="faq2-heading" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Yes! PolyRise is completely free for all users. You can access all notes, question papers, tutorials, and learning materials without any charges. Our goal is to make quality education accessible to everyone, with no hidden fees or subscriptions.
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="faq3-heading">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#faq3" aria-expanded="false" aria-controls="faq3">
                            <i class="bi bi-journal-bookmark me-2"></i>How do I access syllabus, notes, and question papers?
                        </button>
                    </h2>
                    <div id="faq3" class="accordion-collapse collapse" aria-labelledby="faq3-heading" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Accessing learning materials is simple:
                            <ol>
                                <li>Go to the Resources section on PolyRise.</li>
                                <li>Select your stream, subject, or semester.</li>
                                <li>You will find organized syllabus, notes, and previous question papers ready to view or download.</li>
                            </ol>
                            All materials are updated regularly to ensure you have the latest academic content.
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="faq4-heading">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#faq4" aria-expanded="false" aria-controls="faq4">
                            <i class="bi bi-phone me-2"></i>Can I use PolyRise on my phone?
                        </button>
                    </h2>
                    <div id="faq4" class="accordion-collapse collapse" aria-labelledby="faq4-heading" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Yes! PolyRise is fully mobile-friendly. You can access it via any smartphone or tablet using a browser. Our responsive design ensures that all features ‚Äì from tutorials to discussion forums ‚Äì work smoothly on smaller screens. No app download is required, but you can bookmark the site for quick access anytime.      
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="faq5-heading">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#faq5" aria-expanded="false" aria-controls="faq5">
                            <i class="bi bi-key me-2"></i>I'm facing a login issue ‚Äì what should I do?
                        </button>
                    </h2>
                    <div id="faq5" class="accordion-collapse collapse" aria-labelledby="faq5-heading" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            If you can't log in:
                            <ul>
                                <li>Double-check that your email and password are correct.</li>
                                <li>Make sure Caps Lock is off.</li>
                                <li>Try clearing your browser cache or switching browsers.</li>
                                <li>Still stuck? Click "Forgot Password" or contact support, and we'll help you regain access quickly.</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section class="section-card">
        <div class="row align-items-center">
            <div class="col-md-6 mb-4 mb-md-0">
                <div class="text-center mb-4">
                    <i class="bi bi-info-circle feature-icon"></i>
                </div>
                <h2 class="fw-bold text-center-md mb-3">About PolyRise</h2>
                <p class="about-content">
                    PolyRise is an <strong>educational platform</strong> designed to help students access study materials, tutorials, notes, and previous question papers in one place. Our goal is to make learning <strong>easy, organized, and accessible</strong> for everyone, whether you're a polytechnic student, college student, or lifelong learner.
                </p>
            </div>

            <div class="col-md-6">
                <div class="text-center mb-4">
                    <i class="bi bi-chat-dots feature-icon"></i>
                </div>
                <h2 class="fw-bold text-center mb-3">Contact Us</h2>
                <ul class="contact-info mb-5">
                    <li><strong>Phone:</strong> +91-45223XXXXX</li>
                    <li><strong>Email:</strong> <a href="mailto:support@polyrise.com">support@polyrise.com</a></li>
                </ul>

                <h5 class="fw-bold text-center mb-3">Follow Us</h5>
                <div class="d-flex justify-content-center align-items-center gap-3">
                    <a href="#" class="text-decoration-none social-icon" aria-label="Facebook">
                        <i class="bi bi-facebook"></i>
                    </a>
                    <a href="#" class="text-decoration-none social-icon" aria-label="Instagram">
                        <i class="bi bi-instagram"></i>
                    </a>
                    <a href="#" class="text-decoration-none social-icon" aria-label="Twitter">
                        <i class="bi bi-twitter"></i>
                    </a>
                    <a href="#" class="text-decoration-none social-icon" aria-label="LinkedIn">
                        <i class="bi bi-linkedin"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Form submission handling
    const form = document.getElementById('doubtForm');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = submitBtn.querySelector('.btn-text');
    const loading = submitBtn.querySelector('.loading');
    
    if (form) {
        form.addEventListener('submit', function() {
            btnText.textContent = 'Submitting...';
            loading.style.display = 'inline-block';
            submitBtn.disabled = true;
        });
    }
    
    // Add icons to alerts based on type
    document.querySelectorAll('.alert').forEach(alert => {
        const icon = alert.classList.contains('alert-success') ? 
            'bi-check-circle-fill' : 'bi-exclamation-circle-fill';
        alert.querySelector('i').className = `bi ${icon} me-2`;
    });
    
    // Auto-hide alerts after 5 seconds
    const alerts = document.querySelectorAll('.alert');
    alerts.forEach(alert => {
        setTimeout(() => {
            const bsAlert = new bootstrap.Alert(alert);
            bsAlert.close();
        }, 5000);
    });
    
    // Add smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}
